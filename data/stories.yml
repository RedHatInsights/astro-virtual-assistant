version: "3.1"

stories:
  - story: User wants to know our capabilities
    steps:
      - intent: intent_core_capabilities
      - action: utter_core_capabilities_main

  - story: User wants to know even more (and we don't have anything else)!
    steps:
      - action: utter_core_capabilities_more_1
      - intent: intent_core_more
      - action: utter_core_capabilities_more_no_more

  - story: User asks about more without asking for capabilities
    steps:
      - intent: intent_core_more
      - action: action_unlikely_intent
      - action: utter_core_rephrase

  - story: User asks for a planned but not implemented feature
    steps:
      - intent: intent_planned_features
      - action: utter_planned_features
      - action: utter_core_capabilities_main

  - story: User asks for out-of-scope information
    steps:
      - intent: intent_out_of_scope
      - action: utter_out_of_scope
      - action: utter_core_capabilities_main

  - story: User wants to speak with an agent
    steps:
      - intent: intent_live_chat
      - action: utter_live_chat
      - action: utter_live_chat_feedback

  - story: User wants to leave feedback about not speaking to an agent
    steps:
      - action: utter_live_chat_feedback
      - intent: intent_core_yes
      - action: utter_closing_type_below
      - action: form_closing_feedback
      - active_loop: form_closing_feedback

  - story: User doesn't want to leave feedback after not speaking to an agent
    steps:
      - action: utter_live_chat_feedback
      - intent: intent_core_no
      - action: utter_closing_anything_else

  - story: Data privacy policy
    steps:
      - intent: intent_data_privacy_policy
      - action: utter_privacy_info_1
      - action: utter_privacy_info_2

  - story: Give feedback
    steps:
      - intent: intent_give_feedback
      - action: utter_closing_type_below
      - action: form_closing_feedback
      - active_loop: form_closing_feedback

  - story: Send Complaint
    steps:
      - intent: intent_send_complaint
      - action: utter_user_complaint
      - action: form_closing_feedback
      - active_loop: form_closing_feedback

  - story: Are you an AI?
    steps:
      - intent: intent_are_you_ai
      - action: utter_are_you_ai_1
      - action: utter_are_you_ai_2
      - action: utter_are_you_ai_3
      - action: utter_are_you_ai_4
      - action: utter_are_you_ai_handoff

  - story: User wants to know about offline services
    steps:
      - intent: intent_services_offline
      - action: action_services_offline
      - checkpoint: check_closing

  - story: User wants to change their user preferences
    steps:
      - intent: intent_user_preferences
      - action: action_user_preferences

  - story: User wants to change their password
    steps:
      - intent: intent_user_preferences_password
      - action: utter_user_preferences_password_redirect
      - checkpoint: check_closing

  - story: User wants to change other personal information
    steps:
      - intent: intent_user_preferences_all
      - action: utter_user_preferences_all_redirect
      - checkpoint: check_closing

  - story: User does not want to change their personal information
    steps:
      - intent: intent_user_preferences_no_action
      - action: utter_user_preferences_no_action
      - checkpoint: check_closing
    
  - story: User wants to contact customer support
    steps:
      - intent: intent_customer_support
      - action: utter_planned_features
      - checkpoint: check_closing

rules:
  - rule: User wants to know more
    steps:
      - action: utter_core_capabilities_main
      - intent: intent_core_more
      - action: utter_core_capabilities_more_1
